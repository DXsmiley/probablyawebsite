<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>¯\_(ツ)_/¯</title>
		<link href="https://fonts.googleapis.com/css?family=Krub" rel="stylesheet"> 
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		<div class="screen">
			<div>
				<h1>Hi I'm Declan</h1>
				<h2>I'm an expert in <span id="bullshit"></span></h2>
				<p><a href="https://github.com/dxsmiley">Look at my Github</a></p>
				<p><a href="#" id="email" onclick="showEmail()">Send me email</a></p>
				<p><span class="downarrow">⬇</span> Portfolio that way</p>
			</div>
		</div>
		<div class="portfolio">
			<h1>Things I know</h1>
			<ul>
				<li>Python</li>
				<li>Javascript</li>
				<li>Scala</li>
				<li>HTML / CSS</li>
			</ul>
			<h1>Things I've made</h1>
			<p><a target="_blank" href="http://rtex.probablyaweb.site">LaTeX rendering microservice</a></p>
			<p><a target="_blank" href="https://blankpaper.space">Digital Whiteboard</a></p>
			<h1>Things I like</h1>
			<ul>
				<li>Designing and implementing programming languages</li>
				<li>Property-based testing</li>
				<li>Ethical work practices</li>
				<li>Monads</li>
			</ul>
			<h1>If you want to hire me</h1>
			<p>I've heard that nerd sniping me with new feature of a programming language is a good way to start. Use the links above to get in touch.</p>
		</div>
	</body>
	<script>

		function showEmail() {
			const text = window.atob('ZGVjbGFuLmxlby5tY2Rvbm5lbGxAZ21haWwuY29t');
			document.getElementById("email").innerHTML = text;
		}

		// Damn I love closures
		function shufflebag(items) {
			let used = [];
			return function() {
				if (items.length <= 5) {
					items = items.concat(used);
					used = [];
				}
				const selected = items[Math.floor(Math.random() * items.length)];
				used.push(selected);
				items = items.filter(x => x != selected);
				return selected;
			}
		}

		const adjectives = shufflebag([
			'big',
			'functional',
			'artificial',
			'distributed',
			'analytical',
			'cloud',
			'machine',
			'crypto',
			'the',
			'structural',
			'mobile',
			'human-centric',
			'secure',
			'rest-based',
			'responsive',
			'deleting'
		]);

		const nouns = shufflebag([
			'data',
			'programming',
			'intelligence',
			'learning',
			'blockchain',
			'ethernet cables',
			'ux',
			'javascript',
			'internet of things',
			'buzzwords',
			'anarchy',
			'networks',
			'technology',
			'red tape',
			'bureaucracy',
		]);

		function generateText() {
			return adjectives() + ' ' + nouns();
		}

		var goal = generateText();
		var current = '';

		function write() {
			current += goal.charAt(current.length);
			document.getElementById("bullshit").innerHTML = current + "_";
			if (current.length < goal.length) {
				setTimeout(write, 40);
			} else {
				setTimeout(erase, 1000);
			}
		}

		function erase() {
			current = current.slice(0, -1);
			document.getElementById("bullshit").innerHTML = current + "_";
			if (current.length == 0) {
				goal = generateText();
				setTimeout(write, 200);
			} else {
				setTimeout(erase, 25);
			}
		}

		setTimeout(write, 40);
	</script>
</html>
